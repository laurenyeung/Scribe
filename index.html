<!doctype html>
<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>CS 111 Lecture 2</title>
<link rel="stylesheet" href="http://dhbhdrzi4tiry.cloudfront.net/cdn/sites/foundation.min.css">

</head>
<body>
 
<div class="top-bar">
<div class="top-bar-left">
<ul class="menu">
<li class="menu-text">Eggert's CS 111</li>
</ul>
</div>
</div>
 
<div class="callout large primary">
<div class="row column text-center">
<h1>Lecture 2 Scribe Notes</h1>
<p>Written by Garima Lunawat, Lauren Yeung, and Shalini Dangi</p>
</div>
</div>

 
<div class="row medium-8 large-7 columns">
<div class="blog-post">
<h2><b>Table of Contents</b></h2>
    <ol class="main">
        <li><a href="#moores">Moore's Law</a></li>
        <li>
            <a href="#kryders">Kryder's Law</a>
        </li>
        <li>
            <a href="#os">Why Not To Use an OS?</a>
          <!--   <ol class="sub">
                <li><a href="#simplicity">Simplicity</a></li>
                <li><a href="#performance">Performance</a></li>
            	<li><a href="#reliability">Reliability</a></li>
            	<li><a href="#security">Security</a></li>
            </ol> -->
        </li>
        <li>
            <a href="#wordcount">Word Count Program</a>
            <!-- <ol class="sub">
                <li><a href="#supporting_functions">Supporting Functions</a>
                <li><a href="#word_count_program">Word Count Program</a></li>
            </ol> -->
        </li>
        <li><a href="#conclusion">Conclusion</a></li>
    </ol>
<hr>

<p>A bit more philosophy:</p>
<p>Tradeoffs and scaling have been traditional issues...</p>
<h2><b><a name="moores"></a>Moore's Law</b></h2>
<p>Moore’s Law states that the number of transistors on a chip doubles approximately every 18 months.</p>
<img class="thumbnail" src="https://upload.wikimedia.org/wikipedia/commons/a/a9/Moore_Law_diagram_(2004).jpg" height="600" width="500">
<br/>
<font size="1">https://upload.wikimedia.org/wikipedia/commons/thumb/0/00/Transistor_Count_and_Moore's_Law_-_2011.svg/1139px-Transistor_Count_and_Moore's_Law_-_2011.svg.png</font>
<br/>

<!-- <ul class="menu simple">
<li><a href="#">Author: Mike Mikers</a></li>
<li><a href="#">Comments: 3</a></li>
</ul> -->
</div>
<hr>

<div class="blog-post">
<h2><b><a name="kryders"></a>Kryder's Law</b></h2>
<p>Similarly, Kryder’s Law states that secondary storage capacity also increases exponentially.</p>
<img class="thumbnail" src="http://regmedia.co.uk/2014/11/10/disk_capacity_increase.jpg">
<br/>
<font size="1">http://regmedia.co.uk/2014/11/10/disk_capacity_increase.jpg</font>
<br/>
<hr>
</div>
</hr>

<div class="blog-post">
<h2><b><a name="os"></a>Why Not to Use an OS?</b></h2>
<!--<p><b>Simplicity</b></p>
<p> Running a program is much simpler than having an OS run a program.</p>
<p><b>Performance</b></p>
<p>An operating system requires a lot of features which adds complexity and as a consequence, affects speed and memory usage.</p>
<p><b>Reliability</b></p>
<p>Reliability stems from simplicity.  The code is less likely to break because there is less code.
</p>
<p><b>Security</b></p>
<p>An operating system will increase the amount of code being run and therefore, increase the number of possible security leaks.
</p>
</ul>
</div>
<hr> -->

<p>There are four basic reasons why using an OS might be a bad idea:</p>
    <li>Running a program is much <b>simpler</b> than having an OS run a program.</li>
    <li>An OS requires additional features (adding complexity) and therefore, slows <b>performance</b>.</li>
    <li><b>Reliability</b> stems from simplicity.  The code is less likely to break because there is less code.</li>
    <li>More code inevitably increases the number of possible <b>security</b> leaks.</li>


<div class="blog-post">
<h2><b><a name="wordcount"></a>Word Count Program</b></h2>
<h4><b>1. Requirements</b></h4>
<p>Suppose we are writing a program for a paranoid English professor in order to help him count the number of words in his academic proposal.  The program must be run without an operating system.  We know the following:</p>
<style type="text/css">ul.specs { padding-left: 80px; }</style>
<ul class="specs">
    <li>The file is stored in a contiguous array of sectors on the disk drive.</li>
    <li>The bytes in the file are ASCII characters ranging from \001 to \127.</li>
    <li>The user interface is simply a power switch and a display screen.</li>
</ul>

<h4><b>2. Bootstrapping Problem</b></h4>
<p>Bootstrapping is the process of loading software into the memory of a computer after the computer has been powered on.  In this case, the word count program must be loaded into RAM so that it can be executed after the computer is started.</p>
<p>This is done by the BIOS, or the basic input/output system.  At startup, the BIOS is used to get the computer system started.  Additionally, it is also used to manage data flow between the operating system and any devices.  The BIOS is stored in ROM and at startup does the following:</p>
    <li>Runs hardware sanity checks</li>
    <li>Searches for devices</li>
    <li>Looks for Master Boot Record</li>
    <li>Attempts to boot off of Master Boot Record</li>
    
<h4><b>3. Master Boot Record</b></h4>
<p>The 1st sector on the disk, consisting of 512 bytes, is the Master Boot Record (MBR).  The first part of this sector is the boot program which is run by the firmware in EEPROM.  When the computer starts up, the EEPROM searches for the first device with an MBR and loads it into memory.  Normally, the MBR would then read the volume boot record, VBR, into memory. However since the VBR is OS-specific and the MBR is OS-agnostic (and we do not want to use an OS), we will go straight from the MBR to the program.  The MBR is structured as follows:</p>
<img class="thumbnail" src="http://imgur.com/aFp0EDk.jpg">
<p>The first 446 bytes are the boot program.
The next 64 bytes are a partition table. Each partition is 16 bytes long and contains information such as type and bootability. 
The remaining two bytes are the signature and are required to be 0x55 and 0xAA (using little endian convention).  This ensures that this sector is, in fact, the Master Boot Record.</p>

<h4><b>4. Code Implementation</b></h4>
<p>To summarize, the load sequence that we want is: Firmware -> MBR -> word count program
In order to implement this, we will need a subroutine that allows us to read data from the disk.
The following subroutine requires the sector number to read from and the memory address to read into.</p>

<div class="callout">
</div>

<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script src="http://dhbhdrzi4tiry.cloudfront.net/cdn/sites/foundation.js"></script>
<script>
      $(document).foundation();
    </script>
</body>
</html>
